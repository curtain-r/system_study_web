<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div></div>
    <button>收藏我加100分</button>
    <script>
        // function load(file, resolve, reject) {
        //     const script = document.createElement("script");
        //     script.src = file;
        //     script.onload = resolve;
        //     script.onerror = reject;
        //     document.body.appendChild(script);
        // };
        // load(
        //     'index.js',
        //     script => {
        //         console.log(`${script.path[0].src}加载成功`);
        //     },
        //     error => {
        //         console.log(`${error.srcElement.src}加载失败`);
        //     }
        // );
        function load(file) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = file;
                script.onload = resolve(script);
                script.onerror = reject(script);
                document.body.appendChild(script);
            });
        };
        load('index1.js').then(ok=>{
            console.log('载入成功' + ok);
        }).catch(error => {
            console.log('失败' + error)
        })
    </script>
</body>
</html>